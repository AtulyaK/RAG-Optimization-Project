Job started on Tue Oct 21 10:57:37 AM EDT 2025
Running on nodes: scholar-j000
Using GPUs: 
Using CPUs per task: 4
------------------------------------------------
Current directory is: /home/akadur/AIF2Lab3
# packages in environment at /home/akadur/.conda/envs/cent7/2024.02-py311/aiForge:
#
# Name                    Version                   Build  Channel
_libgcc_mutex             0.1                        main  
_openmp_mutex             5.1                       1_gnu  
accelerate                1.11.0                   pypi_0    pypi
annotated-types           0.7.0                    pypi_0    pypi
anyio                     4.11.0                   pypi_0    pypi
asttokens                 3.0.0           py311h06a4308_0  
blinker                   1.9.0                    pypi_0    pypi
bzip2                     1.0.8                h5eee18b_6  
ca-certificates           2025.9.9             h06a4308_0  
certifi                   2025.8.3                 pypi_0    pypi
charset-normalizer        3.4.3                    pypi_0    pypi
click                     8.3.0                    pypi_0    pypi
coloredlogs               15.0.1                   pypi_0    pypi
comm                      0.2.1           py311h06a4308_0  
contourpy                 1.3.3                    pypi_0    pypi
cycler                    0.12.1                   pypi_0    pypi
cython                    3.1.4                    pypi_0    pypi
debugpy                   1.8.16          py311hbdd6827_0  
decorator                 5.2.1           py311h06a4308_0  
distro                    1.9.0                    pypi_0    pypi
executing                 2.2.1           py311h06a4308_0  
expat                     2.7.1                h6a678d5_0  
fastapi                   0.119.0                  pypi_0    pypi
filelock                  3.13.1                   pypi_0    pypi
flask                     3.1.2                    pypi_0    pypi
flatbuffers               25.9.23                  pypi_0    pypi
fonttools                 4.59.2                   pypi_0    pypi
fsspec                    2024.6.1                 pypi_0    pypi
h11                       0.16.0                   pypi_0    pypi
hf-xet                    1.1.10                   pypi_0    pypi
httpcore                  1.0.9                    pypi_0    pypi
httpx                     0.28.1                   pypi_0    pypi
httpx-sse                 0.4.3                    pypi_0    pypi
huggingface-hub           0.35.3                   pypi_0    pypi
humanfriendly             10.0                     pypi_0    pypi
idna                      3.10                     pypi_0    pypi
ipykernel                 6.29.5          py311h06a4308_1  
ipython                   9.1.0           py311h06a4308_0  
ipython_pygments_lexers   1.1.1           py311h06a4308_0  
itsdangerous              2.2.0                    pypi_0    pypi
jedi                      0.19.2          py311h06a4308_0  
jinja2                    3.1.4                    pypi_0    pypi
jiter                     0.11.0                   pypi_0    pypi
joblib                    1.5.2                    pypi_0    pypi
jupyter_client            8.6.3           py311h06a4308_0  
jupyter_core              5.8.1           py311h06a4308_0  
kiwisolver                1.4.9                    pypi_0    pypi
ld_impl_linux-64          2.40                 h12ee557_0  
libffi                    3.4.4                h6a678d5_1  
libgcc-ng                 11.2.0               h1234567_1  
libgomp                   11.2.0               h1234567_1  
libsodium                 1.0.18               h7b6447c_0  
libstdcxx-ng              11.2.0               h1234567_1  
libuuid                   1.41.5               h5eee18b_0  
libxcb                    1.17.0               h9b100fa_0  
markupsafe                2.1.5                    pypi_0    pypi
matplotlib                3.10.6                   pypi_0    pypi
matplotlib-inline         0.1.6           py311h06a4308_0  
mcp                       1.17.0                   pypi_0    pypi
more-itertools            10.8.0                   pypi_0    pypi
mpmath                    1.3.0                    pypi_0    pypi
ncurses                   6.5                  h7934f7d_0  
nest-asyncio              1.6.0           py311h06a4308_0  
networkx                  3.3                      pypi_0    pypi
numpy                     2.1.2                    pypi_0    pypi
nvidia-cublas-cu12        12.8.4.1                 pypi_0    pypi
nvidia-cuda-cupti-cu12    12.8.90                  pypi_0    pypi
nvidia-cuda-nvrtc-cu12    12.8.93                  pypi_0    pypi
nvidia-cuda-runtime-cu12  12.8.90                  pypi_0    pypi
nvidia-cudnn-cu12         9.10.2.21                pypi_0    pypi
nvidia-cufft-cu12         11.3.3.83                pypi_0    pypi
nvidia-cufile-cu12        1.13.1.3                 pypi_0    pypi
nvidia-curand-cu12        10.3.9.90                pypi_0    pypi
nvidia-cusolver-cu12      11.7.3.90                pypi_0    pypi
nvidia-cusparse-cu12      12.5.8.93                pypi_0    pypi
nvidia-cusparselt-cu12    0.7.1                    pypi_0    pypi
nvidia-nccl-cu12          2.27.5                   pypi_0    pypi
nvidia-nvjitlink-cu12     12.8.93                  pypi_0    pypi
nvidia-nvshmem-cu12       3.3.20                   pypi_0    pypi
nvidia-nvtx-cu12          12.8.90                  pypi_0    pypi
onnxruntime               1.23.1                   pypi_0    pypi
openai                    2.3.0                    pypi_0    pypi
openssl                   3.0.17               h5eee18b_0  
packaging                 25.0            py311h06a4308_0  
pandas                    2.3.2                    pypi_0    pypi
parso                     0.8.4           py311h06a4308_0  
pexpect                   4.9.0           py311h06a4308_0  
pillow                    11.0.0                   pypi_0    pypi
pip                       25.2               pyhc872135_0  
platformdirs              4.3.7           py311h06a4308_0  
prompt-toolkit            3.0.43          py311h06a4308_0  
prompt_toolkit            3.0.43               hd3eb1b0_0  
protobuf                  6.32.1                   pypi_0    pypi
psutil                    7.0.0           py311hee96239_0  
pthread-stubs             0.3                  h0ce48e5_1  
ptyprocess                0.7.0              pyhd3eb1b0_2  
pure_eval                 0.2.3           py311h06a4308_0  
pydantic                  2.12.0                   pypi_0    pypi
pydantic-core             2.41.1                   pypi_0    pypi
pydantic-settings         2.11.0                   pypi_0    pypi
pygments                  2.19.1          py311h06a4308_0  
pyjnius                   1.7.0                    pypi_0    pypi
pyparsing                 3.2.3                    pypi_0    pypi
pyserini                  1.2.0                    pypi_0    pypi
python                    3.11.13              h1a3bd86_0  
python-dateutil           2.9.0post0      py311h06a4308_2  
python-dotenv             1.1.1                    pypi_0    pypi
python-multipart          0.0.20                   pypi_0    pypi
pytz                      2025.2                   pypi_0    pypi
pyzmq                     26.2.0          py311h6a678d5_0  
readline                  8.3                  hc2a1206_0  
regex                     2025.9.1                 pypi_0    pypi
requests                  2.32.5                   pypi_0    pypi
safetensors               0.6.2                    pypi_0    pypi
scikit-learn              1.7.1                    pypi_0    pypi
scipy                     1.16.1                   pypi_0    pypi
seaborn                   0.13.2                   pypi_0    pypi
sentence-transformers     5.1.1                    pypi_0    pypi
sentencepiece             0.2.1                    pypi_0    pypi
setuptools                78.1.1          py311h06a4308_0  
six                       1.17.0          py311h06a4308_0  
sniffio                   1.3.1                    pypi_0    pypi
sqlite                    3.50.2               hb25bd0a_1  
sse-starlette             3.0.2                    pypi_0    pypi
stack_data                0.6.3           py311h06a4308_0  
starlette                 0.48.0                   pypi_0    pypi
sympy                     1.14.0                   pypi_0    pypi
threadpoolctl             3.6.0                    pypi_0    pypi
tiktoken                  0.11.0                   pypi_0    pypi
tk                        8.6.15               h54e0aa7_0  
tokenizers                0.22.1                   pypi_0    pypi
torch                     2.9.0                    pypi_0    pypi
torchaudio                2.9.0+cu128              pypi_0    pypi
torchvision               0.24.0+cu128             pypi_0    pypi
tornado                   6.5.1           py311h5eee18b_0  
tqdm                      4.67.1          py311h92b7b1e_0  
traitlets                 5.14.3          py311h06a4308_0  
transformers              4.57.1                   pypi_0    pypi
triton                    3.5.0                    pypi_0    pypi
typing-inspection         0.4.2                    pypi_0    pypi
typing_extensions         4.15.0          py311h06a4308_0  
tzdata                    2025.2                   pypi_0    pypi
urllib3                   2.5.0                    pypi_0    pypi
uvicorn                   0.37.0                   pypi_0    pypi
wcwidth                   0.2.13          py311h06a4308_0  
werkzeug                  3.1.3                    pypi_0    pypi
wheel                     0.45.1          py311h06a4308_0  
xorg-libx11               1.8.12               h9b100fa_1  
xorg-libxau               1.0.12               h9b100fa_0  
xorg-libxdmcp             1.1.5                h9b100fa_0  
xorg-xorgproto            2024.1               h5eee18b_1  
xz                        5.6.4                h5eee18b_1  
zeromq                    4.3.5                h6a678d5_0  
zlib                      1.2.13               h5eee18b_1  
Looking in indexes: https://download.pytorch.org/whl/cu128
Requirement already satisfied: torch in /home/akadur/.conda/envs/cent7/2024.02-py311/aiForge/lib/python3.11/site-packages (2.9.0)
Requirement already satisfied: torchvision in /home/akadur/.conda/envs/cent7/2024.02-py311/aiForge/lib/python3.11/site-packages (0.24.0+cu128)
Requirement already satisfied: torchaudio in /home/akadur/.conda/envs/cent7/2024.02-py311/aiForge/lib/python3.11/site-packages (2.9.0+cu128)
Requirement already satisfied: filelock in /home/akadur/.conda/envs/cent7/2024.02-py311/aiForge/lib/python3.11/site-packages (from torch) (3.13.1)
Requirement already satisfied: typing-extensions>=4.10.0 in /home/akadur/.conda/envs/cent7/2024.02-py311/aiForge/lib/python3.11/site-packages (from torch) (4.15.0)
Requirement already satisfied: sympy>=1.13.3 in /home/akadur/.conda/envs/cent7/2024.02-py311/aiForge/lib/python3.11/site-packages (from torch) (1.14.0)
Requirement already satisfied: networkx>=2.5.1 in /home/akadur/.conda/envs/cent7/2024.02-py311/aiForge/lib/python3.11/site-packages (from torch) (3.3)
Requirement already satisfied: jinja2 in /home/akadur/.conda/envs/cent7/2024.02-py311/aiForge/lib/python3.11/site-packages (from torch) (3.1.4)
Requirement already satisfied: fsspec>=0.8.5 in /home/akadur/.conda/envs/cent7/2024.02-py311/aiForge/lib/python3.11/site-packages (from torch) (2024.6.1)
Requirement already satisfied: nvidia-cuda-nvrtc-cu12==12.8.93 in /home/akadur/.conda/envs/cent7/2024.02-py311/aiForge/lib/python3.11/site-packages (from torch) (12.8.93)
Requirement already satisfied: nvidia-cuda-runtime-cu12==12.8.90 in /home/akadur/.conda/envs/cent7/2024.02-py311/aiForge/lib/python3.11/site-packages (from torch) (12.8.90)
Requirement already satisfied: nvidia-cuda-cupti-cu12==12.8.90 in /home/akadur/.conda/envs/cent7/2024.02-py311/aiForge/lib/python3.11/site-packages (from torch) (12.8.90)
Requirement already satisfied: nvidia-cudnn-cu12==9.10.2.21 in /home/akadur/.conda/envs/cent7/2024.02-py311/aiForge/lib/python3.11/site-packages (from torch) (9.10.2.21)
Requirement already satisfied: nvidia-cublas-cu12==12.8.4.1 in /home/akadur/.conda/envs/cent7/2024.02-py311/aiForge/lib/python3.11/site-packages (from torch) (12.8.4.1)
Requirement already satisfied: nvidia-cufft-cu12==11.3.3.83 in /home/akadur/.conda/envs/cent7/2024.02-py311/aiForge/lib/python3.11/site-packages (from torch) (11.3.3.83)
Requirement already satisfied: nvidia-curand-cu12==10.3.9.90 in /home/akadur/.conda/envs/cent7/2024.02-py311/aiForge/lib/python3.11/site-packages (from torch) (10.3.9.90)
Requirement already satisfied: nvidia-cusolver-cu12==11.7.3.90 in /home/akadur/.conda/envs/cent7/2024.02-py311/aiForge/lib/python3.11/site-packages (from torch) (11.7.3.90)
Requirement already satisfied: nvidia-cusparse-cu12==12.5.8.93 in /home/akadur/.conda/envs/cent7/2024.02-py311/aiForge/lib/python3.11/site-packages (from torch) (12.5.8.93)
Requirement already satisfied: nvidia-cusparselt-cu12==0.7.1 in /home/akadur/.conda/envs/cent7/2024.02-py311/aiForge/lib/python3.11/site-packages (from torch) (0.7.1)
Requirement already satisfied: nvidia-nccl-cu12==2.27.5 in /home/akadur/.conda/envs/cent7/2024.02-py311/aiForge/lib/python3.11/site-packages (from torch) (2.27.5)
Requirement already satisfied: nvidia-nvshmem-cu12==3.3.20 in /home/akadur/.conda/envs/cent7/2024.02-py311/aiForge/lib/python3.11/site-packages (from torch) (3.3.20)
Requirement already satisfied: nvidia-nvtx-cu12==12.8.90 in /home/akadur/.conda/envs/cent7/2024.02-py311/aiForge/lib/python3.11/site-packages (from torch) (12.8.90)
Requirement already satisfied: nvidia-nvjitlink-cu12==12.8.93 in /home/akadur/.conda/envs/cent7/2024.02-py311/aiForge/lib/python3.11/site-packages (from torch) (12.8.93)
Requirement already satisfied: nvidia-cufile-cu12==1.13.1.3 in /home/akadur/.conda/envs/cent7/2024.02-py311/aiForge/lib/python3.11/site-packages (from torch) (1.13.1.3)
Requirement already satisfied: triton==3.5.0 in /home/akadur/.conda/envs/cent7/2024.02-py311/aiForge/lib/python3.11/site-packages (from torch) (3.5.0)
Requirement already satisfied: numpy in /home/akadur/.conda/envs/cent7/2024.02-py311/aiForge/lib/python3.11/site-packages (from torchvision) (2.1.2)
Requirement already satisfied: pillow!=8.3.*,>=5.3.0 in /home/akadur/.conda/envs/cent7/2024.02-py311/aiForge/lib/python3.11/site-packages (from torchvision) (11.0.0)
Requirement already satisfied: mpmath<1.4,>=1.1.0 in /home/akadur/.conda/envs/cent7/2024.02-py311/aiForge/lib/python3.11/site-packages (from sympy>=1.13.3->torch) (1.3.0)
Requirement already satisfied: MarkupSafe>=2.0 in /home/akadur/.conda/envs/cent7/2024.02-py311/aiForge/lib/python3.11/site-packages (from jinja2->torch) (2.1.5)
Device being used: cuda

Starting Part 3 (a): Wikipedia RAG (n=1 to 10)...

BM25 Searcher initialized using index: bm25_wiki_index

--- Running RAG with n=1 retrieved passages ---
Processed 50/555 examples.
Processed 100/555 examples.
Processed 150/555 examples.
Processed 200/555 examples.
Processed 250/555 examples.
Processed 300/555 examples.
Processed 350/555 examples.
Processed 400/555 examples.
Processed 450/555 examples.
Processed 500/555 examples.
Processed 550/555 examples.
n=1 (EM=0.1423, F1=0.2787) | Time: 165.90s

--- Running RAG with n=2 retrieved passages ---
Processed 50/555 examples.
Processed 100/555 examples.
Processed 150/555 examples.
Processed 200/555 examples.
Processed 250/555 examples.
Processed 300/555 examples.
Processed 350/555 examples.
Processed 400/555 examples.
Processed 450/555 examples.
Processed 500/555 examples.
Processed 550/555 examples.
n=2 (EM=0.1477, F1=0.2766) | Time: 203.53s

--- Running RAG with n=3 retrieved passages ---
Processed 50/555 examples.
Processed 100/555 examples.
Processed 150/555 examples.
Processed 200/555 examples.
Processed 250/555 examples.
Processed 300/555 examples.
Processed 350/555 examples.
Processed 400/555 examples.
Processed 450/555 examples.
Processed 500/555 examples.
Processed 550/555 examples.
n=3 (EM=0.1604, F1=0.2780) | Time: 240.48s

--- Running RAG with n=4 retrieved passages ---
Processed 50/555 examples.
Processed 100/555 examples.
Processed 150/555 examples.
Processed 200/555 examples.
Processed 250/555 examples.
Processed 300/555 examples.
Processed 350/555 examples.
Processed 400/555 examples.
Processed 450/555 examples.
Processed 500/555 examples.
Processed 550/555 examples.
n=4 (EM=0.1441, F1=0.2726) | Time: 280.13s

--- Running RAG with n=5 retrieved passages ---
Processed 50/555 examples.
Processed 100/555 examples.
Processed 150/555 examples.
Processed 200/555 examples.
Processed 250/555 examples.
Processed 300/555 examples.
Processed 350/555 examples.
Processed 400/555 examples.
Processed 450/555 examples.
Processed 500/555 examples.
Processed 550/555 examples.
n=5 (EM=0.1495, F1=0.2704) | Time: 316.48s

--- Running RAG with n=6 retrieved passages ---
Processed 50/555 examples.
Processed 100/555 examples.
Processed 150/555 examples.
Processed 200/555 examples.
Processed 250/555 examples.
Processed 300/555 examples.
Processed 350/555 examples.
Processed 400/555 examples.
Processed 450/555 examples.
Processed 500/555 examples.
Processed 550/555 examples.
n=6 (EM=0.1532, F1=0.2742) | Time: 354.63s

--- Running RAG with n=7 retrieved passages ---
Processed 50/555 examples.
Processed 100/555 examples.
Processed 150/555 examples.
Processed 200/555 examples.
Processed 250/555 examples.
Processed 300/555 examples.
Processed 350/555 examples.
Processed 400/555 examples.
Processed 450/555 examples.
Processed 500/555 examples.
Processed 550/555 examples.
n=7 (EM=0.1423, F1=0.2678) | Time: 392.38s

--- Running RAG with n=8 retrieved passages ---
Processed 50/555 examples.
Processed 100/555 examples.
Processed 150/555 examples.
Processed 200/555 examples.
Processed 250/555 examples.
Processed 300/555 examples.
Processed 350/555 examples.
Processed 400/555 examples.
Processed 450/555 examples.
Processed 500/555 examples.
Processed 550/555 examples.
n=8 (EM=0.1387, F1=0.2722) | Time: 439.40s

--- Running RAG with n=9 retrieved passages ---
Processed 50/555 examples.
Processed 100/555 examples.
Processed 150/555 examples.
Processed 200/555 examples.
Processed 250/555 examples.
Processed 300/555 examples.
Processed 350/555 examples.
Processed 400/555 examples.
Processed 450/555 examples.
Processed 500/555 examples.
Processed 550/555 examples.
n=9 (EM=0.1441, F1=0.2764) | Time: 477.37s

--- Running RAG with n=10 retrieved passages ---
Processed 50/555 examples.
Processed 100/555 examples.
Processed 150/555 examples.
Processed 200/555 examples.
Processed 250/555 examples.
Processed 300/555 examples.
Processed 350/555 examples.
Processed 400/555 examples.
Processed 450/555 examples.
Processed 500/555 examples.
Processed 550/555 examples.
n=10 (EM=0.1351, F1=0.2715) | Time: 516.15s


=== Part 3 (a) Results Summary: RAG Performance vs. n ===
n   | EM     | F1    
---------------
1   | 0.1423 | 0.2787
2   | 0.1477 | 0.2766
3   | 0.1604 | 0.2780
4   | 0.1441 | 0.2726
5   | 0.1495 | 0.2704
6   | 0.1532 | 0.2742
7   | 0.1423 | 0.2678
8   | 0.1387 | 0.2722
9   | 0.1441 | 0.2764
10  | 0.1351 | 0.2715
---------------
| Best EM Score: 0.1604
| Best F1 Score: 0.2787
------------------------------------------------
Job finished on Tue Oct 21 11:54:49 AM EDT 2025
